<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1 id="DeltaXSEDEDocumentation-topDeltaUserGuide"><strong><span class="confluence-anchor-link conf-macro output-inline" id="DeltaXSEDEDocumentation-top" data-hasbody="false" data-macro-name="anchor"> </span>Delta User Guide</strong></h1><p><em><span>Last update: January 7, 2022</span></em></p><p><br></p><h1 id="DeltaXSEDEDocumentation-StatusUpdatesandNotices"><strong>Status Updates and Notices</strong></h1><p><em>Delta</em> is tentatively scheduled to enter production in Q2 2022.</p><h1 id="DeltaXSEDEDocumentation-Introduction"><strong>Introduction</strong></h1><p><span><em>Delta</em> is a dedicated, <a href="http://www.xsede.org" class="external-link" rel="nofollow" target="_blank">eXtreme Science and Engineering Science Discovery Environment (XSEDE)</a> allocated resource designed by HPE and NCSA, delivering a highly capable GPU-focused compute environment for GPU and CPU workloads.&nbsp; Besides offering a mix of standard and reduced precision GPU resources, <em>Delta</em> also offers GPU-dense nodes with both NVIDIA and AMD GPUs.&nbsp; <em>Delta</em>&nbsp;provides high performance node-local SSD scratch filesystems, as well as both standard lustre and relaxed-POSIX parallel filesystems spanning the entire resource.</span></p><p><span><em>Delta's</em> standard CPU nodes are each powered by two 64-core AMD EPYC 7763 ("Milan") processors, with 256 GB of DDR4 memory.&nbsp; The <em>Delta</em> GPU resource has four node types: one with 4 NVIDIA A100 GPUs (40 GB HBM2 RAM each) connected via NVLINK and 1 64-core AMD EPYC 7763 ("Milan") processor, the second with 4 NVIDIA A40 GPUs (48 GB GDDR6 RAM) connected via PCIe 4.0 and 1 64-core AMD EPYC 7763 ("Milan") processor, the third with 8 NVIDIA A100 GPUs in a dual socket AMD EPYC 7763 (128-cores per node) node with 2 TB of DDR4 RAM and NVLINK,&nbsp; and the fourth with&nbsp;8 AMD MI100 GPUs (32GB HBM2 RAM each) in a dual socket AMD EPYC 7763 (128-cores per node) node with 2 TB of DDR4 RAM and PCIe 4.0.&nbsp;</span></p><p><span><em>Delta</em> has 124 standard CPU nodes, 100 4-way A100-based GPU nodes, 100 4-way A40-based GPU nodes, 5 8-way A100-based GPU nodes, and 1 8-way MI100-based GPU node.&nbsp; Every <em>Delta</em> node has high-performance node-local SSD storage (800 GB for CPU nodes, 1.6 TB for GPU nodes), and is connected to the 7 PB Lustre parallel filesystem via the high-speed interconnect.&nbsp; The <em>Delta</em> resource uses the SLURM workload manager for job scheduling.&nbsp;&nbsp;</span></p><p><span>Delta supports the <a href="https://www.xsede.org/software" class="external-link" rel="nofollow" target="_blank">XSEDE core software stack</a>, including remote login, remote computation, data movement, science workflow support, and science gateway support toolkits.</span></p><p><br></p><p><strong><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="/download/attachments/144016994/image2021-3-12_14-23-11.png?version=1&amp;modificationDate=1615925873000&amp;api=v2" data-image-src="/download/attachments/144016994/image2021-3-12_14-23-11.png?version=1&amp;modificationDate=1615925873000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="144016995" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2021-3-12_14-23-11.png" data-base-url="https://wiki.ncsa.illinois.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="144016994" data-linked-resource-container-version="28"></span></strong></p><p><strong>Figure 1. Delta System</strong></p><p>Delta is supported by the National Science Foundation under Grant No. OAC-<span style="color: rgb(0,0,0);">2005572</span>.</p><p>Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.</p><div class="table-wrap"><table class="wrapped confluenceTable" resolved=""><colgroup><col></colgroup><tbody><tr><th class="highlight-yellow confluenceTh" style="text-align: center;" data-highlight-colour="yellow"><em>Delta</em> is now accepting proposals.</th></tr></tbody></table></div><p><a href="#DeltaXSEDEDocumentation-top">Top of Page</a></p><h1 id="DeltaXSEDEDocumentation-AccountAdministration"><strong>Account Administration</strong></h1><ul><li><span>Setting up Your Account</span></li><li><span>Allocation Information</span></li><li><span>How to Access the System</span><ul><li><span>ssh, scp, sftp</span></li><li><span>Globus Online connected to endpoint NCSA#Delta</span></li><li><span>Open OnDemand&nbsp;</span></li></ul></li></ul><h2 id="DeltaXSEDEDocumentation-ConfiguringYourAccount"><strong>Configuring Your Account</strong></h2><ul><li><span>default shell, changing your shell, changing your password</span></li><li><span>environment variables</span></li><li><span>using Modules (or other environment manager)</span></li></ul><h1 id="DeltaXSEDEDocumentation-SystemArchitecture"><strong>System Architecture</strong></h1><p><span style="color: rgb(0,0,0);">Delta is designed to help applications transition from CPU-only to GPU or hybrid CPU-GPU codes. Delta has some important architectural features to facilitate new discovery and insight:</span></p><ul><li><span style="color: rgb(0,0,0);">a single processor architecture (AMD) across all node types: CPU and GPU</span></li><li><span><span style="color: rgb(17,17,17);">support for NVIDIA A100 MIG GPU partitioning allowing for fractional use of the A100s if your workload isn't able to exploit an entire A100 efficiently</span></span></li><li><span style="color: rgb(0,0,0);">ray tracing hardware support from the NVIDIA A40 GPUs</span></li><li><span style="color: rgb(0,0,0);">9 large memory (2 TB) nodes&nbsp;</span></li><li><span style="color: rgb(0,0,0);">a low latency and high bandwidth HPE/Cray Slingshot interconnect between compute nodes</span></li><li><span style="color: rgb(0,0,0);">lustre for home, projects and scratch&nbsp;file systems</span></li><li><span><span style="color: rgb(17,17,17);">support for relaxed and non-posix IO</span></span></li><li><span><span style="color: rgb(17,17,17);">shared-node jobs and the single core and single MIG GPU slice</span></span></li><li><span><span style="color: rgb(17,17,17);">Resources for persistent services in support of Gateways, Open OnDemand, Data Transport nodes...,&nbsp;</span></span></li><li><span style="color: rgb(0,0,0);">Unique AMD MI-100 resource</span>&nbsp;&nbsp;</li></ul><h2 id="DeltaXSEDEDocumentation-ModelComputeNodes"><strong>Model Compute Nodes</strong></h2><p><span style="color: rgb(0,0,0);">The Delta compute ecosystem is composed of 5 node types: dual-socket CPU-only compute nodes, single socket 4-way NVIDIA A100 GPU compute nodes, single socket 4-way NVIDIA A40 GPU compute nodes, dual-socket 8-way NVIDIA A100 GPU compute nodes, and a single socket 8-way AMD MI100 GPU compute nodes. The CPU-only and 4-way GPU nodes have 256 GB of RAM per node while the 8-way GPU nodes have 2 TB of RAM. The CPU-only node has 0.8 TB of local storage while all GPU nodes have 1.6 TB of local storage.</span></p><h3 id="DeltaXSEDEDocumentation-Table.CPUComputeNodeSpecifications"><span>Table. CPU Compute Node Specifications</span></h3><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Specification: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Specification</div></th><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Value: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Value</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><p><span>Number of nodes</span></p></td><td class="confluenceTd"><p><span>124</span></p></td></tr><tr role="row"><td colspan="1" class="confluenceTd"><span>CPU</span></td><td colspan="1" class="confluenceTd"><span>AMD Milan (PCIe Gen4)</span></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Sockets per node</td><td colspan="1" class="confluenceTd">2</td></tr><tr role="row"><td class="confluenceTd"><p><span>Cores per socket</span></p></td><td class="confluenceTd"><p><span>64</span></p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Cores per node</td><td colspan="1" class="confluenceTd">128</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per core</span></p></td><td class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per node</span></p></td><td class="confluenceTd"><p><span>128</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Clock rate (GHz)</span></p></td><td class="confluenceTd"><p><span>~ 2.45</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>RAM (GB)</span></p></td><td class="confluenceTd"><p><span>256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Cache (MB)&nbsp;L1/L2/L3</span></p></td><td class="confluenceTd"><p><span>&nbsp;2/32/256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Local storage (TB)</span></p></td><td class="confluenceTd"><p><span>0.8 TB</span></p></td></tr></tbody></table></div><h3 id="DeltaXSEDEDocumentation-Table.4-wayNVIDIAA40GPUComputeNodeSpecifications"><span>Table. 4-way NVIDIA A40 GPU Compute Node Specifications&nbsp;</span></h3><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Specification: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Specification</div></th><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Value: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Value</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td colspan="1" class="confluenceTd">Number of nodes</td><td colspan="1" class="confluenceTd">100</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU</td><td colspan="1" class="confluenceTd">NVIDIA A40&nbsp;<p><span>(<a href="https://www.nvidia.com/en-us/data-center/a40/#specs" class="external-link" rel="nofollow" target="_blank">Vendor page</a>)</span></p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPUs per node</td><td colspan="1" class="confluenceTd">4</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU Memory (GB)</td><td colspan="1" class="confluenceTd">48 DDR6 with ECC</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU</td><td colspan="1" class="confluenceTd">AMD Milan</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU sockets per node</td><td colspan="1" class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Cores per socket</span></p></td><td class="confluenceTd"><p>64</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Cores per node</td><td colspan="1" class="confluenceTd">64</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per core</span></p></td><td class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per node</span></p></td><td class="confluenceTd"><p>64</p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Clock rate (GHz)</span></p></td><td class="confluenceTd"><p><span>~ 2.45</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>RAM (GB)</span></p></td><td class="confluenceTd"><p><span>256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Cache (MB)&nbsp;L1/L2/L3</span></p></td><td class="confluenceTd"><p><span>&nbsp;2/32/256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Local storage (TB)</span></p></td><td class="confluenceTd"><p><span>1.6 TB</span></p></td></tr></tbody></table></div><h3 id="DeltaXSEDEDocumentation-Table.4-wayNVIDIAA100GPUComputeNodeSpecifications"><span>Table. 4-way NVIDIA A100 GPU Compute Node Specifications&nbsp;</span></h3><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col style="width: 198.0px;"><col style="width: 148.0px;"></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Specification: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Specification</div></th><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Value: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Value</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td colspan="1" class="confluenceTd">Number of nodes</td><td colspan="1" class="confluenceTd">100</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU</td><td colspan="1" class="confluenceTd">NVIDIA A100<p>(<a href="https://www.nvidia.com/en-us/data-center/a100/#specifications" class="external-link" rel="nofollow" target="_blank">Vendor page</a>)</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPUs per node</td><td colspan="1" class="confluenceTd">4</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU Memory (GB)</td><td colspan="1" class="confluenceTd">40&nbsp;</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU</td><td colspan="1" class="confluenceTd">AMD Milan</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU sockets per node</td><td colspan="1" class="confluenceTd">2</td></tr><tr role="row"><td class="confluenceTd"><p><span>Cores per socket</span></p></td><td class="confluenceTd"><p>64</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Cores per node</td><td colspan="1" class="confluenceTd">128</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per core</span></p></td><td class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per node</span></p></td><td class="confluenceTd">128</td></tr><tr role="row"><td class="confluenceTd"><p><span>Clock rate (GHz)</span></p></td><td class="confluenceTd"><p><span>~ 2.45</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>RAM (GB)</span></p></td><td class="confluenceTd"><p><span>256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Cache (MB)&nbsp;L1/L2/L3</span></p></td><td class="confluenceTd"><p><span>&nbsp;2/32/256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Local storage (TB)</span></p></td><td class="confluenceTd"><p><span>1.6 TB</span></p></td></tr></tbody></table></div><h3 id="DeltaXSEDEDocumentation-Table.8-wayNVIDIAA100GPULargeMemoryComputeNodeSpecifications"><span>Table. 8-way NVIDIA A100 GPU Large Memory&nbsp; Compute Node Specifications&nbsp;</span></h3><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Specification: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Specification</div></th><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Value: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Value</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td colspan="1" class="confluenceTd">Number of nodes</td><td colspan="1" class="confluenceTd">5</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU</td><td colspan="1" class="confluenceTd">NVIDIA A100<p>(<a href="https://www.nvidia.com/en-us/data-center/a100/#specifications" class="external-link" rel="nofollow" target="_blank">Vendor page</a>)</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPUs per node</td><td colspan="1" class="confluenceTd">8</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU Memory (GB)</td><td colspan="1" class="confluenceTd">40&nbsp;</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU</td><td colspan="1" class="confluenceTd">AMD Milan</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU sockets per node</td><td colspan="1" class="confluenceTd">2</td></tr><tr role="row"><td class="confluenceTd"><p><span>Cores per socket</span></p></td><td class="confluenceTd"><p>64</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Cores per node</td><td colspan="1" class="confluenceTd">128</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per core</span></p></td><td class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per node</span></p></td><td class="confluenceTd"><p>128</p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Clock rate (GHz)</span></p></td><td class="confluenceTd"><p><span>~ 2.45</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>RAM (GB)</span></p></td><td class="confluenceTd"><p><span>2,048</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Cache (MB)&nbsp;L1/L2/L3</span></p></td><td class="confluenceTd"><p><span>&nbsp;2/32/256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Local storage (TB)</span></p></td><td class="confluenceTd"><p><span>1.6 TB</span></p></td></tr></tbody></table></div><h3 id="DeltaXSEDEDocumentation-Table.8-wayAMDMI100GPULargeMemoryComputeNodeSpecifications"><span>Table. 8-way AMD MI100 GPU Large Memory Compute Node Specifications&nbsp;</span></h3><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Specification: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Specification</div></th><th colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="Value: No sort applied, activate to apply an ascending sort" style="user-select: none;"><div class="tablesorter-header-inner">Value</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td colspan="1" class="confluenceTd">Number of nodes</td><td colspan="1" class="confluenceTd">1</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU</td><td colspan="1" class="confluenceTd">AMD MI100&nbsp;&nbsp;<p><span>(<a href="https://www.amd.com/en/products/server-accelerators/instinct-mi100" class="external-link" rel="nofollow" target="_blank">Vendor page</a>)</span></p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPUs per node</td><td colspan="1" class="confluenceTd">8</td></tr><tr role="row"><td colspan="1" class="confluenceTd">GPU Memory (GB)</td><td colspan="1" class="confluenceTd">32</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU</td><td colspan="1" class="confluenceTd">AMD Milan</td></tr><tr role="row"><td colspan="1" class="confluenceTd">CPU sockets per node</td><td colspan="1" class="confluenceTd">2</td></tr><tr role="row"><td class="confluenceTd"><p><span>Cores per socket</span></p></td><td class="confluenceTd"><p>64</p></td></tr><tr role="row"><td colspan="1" class="confluenceTd">Cores per node</td><td colspan="1" class="confluenceTd">128</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per core</span></p></td><td class="confluenceTd">1</td></tr><tr role="row"><td class="confluenceTd"><p><span>Hardware threads per node</span></p></td><td class="confluenceTd"><p>128</p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Clock rate (GHz)</span></p></td><td class="confluenceTd"><p><span>~ 2.45</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>RAM (GB)</span></p></td><td class="confluenceTd"><p><span>2,048</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Cache (MB)&nbsp;L1/L2/L3</span></p></td><td class="confluenceTd"><p><span>&nbsp;2/32/256</span></p></td></tr><tr role="row"><td class="confluenceTd"><p><span>Local storage (TB)</span></p></td><td class="confluenceTd"><p><span>1.6 TB</span></p></td></tr></tbody></table></div><h2 id="DeltaXSEDEDocumentation-LoginNodes"><strong>Login Nodes</strong></h2><p><span>Describe login node/s.</span></p><h2 id="DeltaXSEDEDocumentation-SpecializedNodes"><strong>Specialized Nodes</strong></h2><p><span>Delta will support data transfer nodes or nodes in support of other services.</span></p><h2 id="DeltaXSEDEDocumentation-Network"><strong>Network</strong></h2><p><span>Delta will be connected to the NPCF core router &amp; exit infrastructure via two 100Gbps connections, NCSA's 400Gbps+ of WAN connectivity will carry traffic to/from users on an optimal peering.&nbsp;</span></p><p><span>Delta resources will be inter-connected with HPE/Cray's 100Gbps/200Gbps SlingShot interconnect. &nbsp;</span></p><h2 id="DeltaXSEDEDocumentation-FileSystems"><strong>File Systems</strong></h2><p><span>Note: &nbsp;</span>Users of Delta have access to 3 file systems at the time of system launch, a fourth relaxed-POSIX file system will be made available at a later date.<span>&nbsp; </span></p><p><strong><em>Delta</em><br></strong>The Delta storage infrastructure provides users with their $HOME and $SCRATCH areas.&nbsp; These file systems are mounted across all Delta systems and are accessible on the Delta DTN Endpoints.&nbsp; The aggregate performance of this subsystem is 70GB/s and it has 6PB of usable space. &nbsp;These file systems run Lustre via DDN's ExaScaler 6 stack (Lustre 2.14 based)</p><p><u>Hardware:<br></u>DDN SFA7990XE (Quantity: 3), each unit contains</p><ul><li>One additional SS9012 enclosure</li><li>168 x 16TB SAS Drives</li><li>7 x 1.92TB SAS SSDs</li></ul><p><u>Future Hardware:<br></u>An additional pool of NVME flash from DDN will be installed in early Spring 2022.<span>&nbsp; </span>This flash will initially be deployed as a tier for "hot" data in scratch.<span>&nbsp; </span>This subsystem will have an aggregate performance of 600GB/s and will have 3PB of capacity.<span>&nbsp;As noted above this subsystem will transition to a relax POSIX namespace file system, communications on that timeline will be announced as updates are available. &nbsp;</span></p><p><em><strong>Taiga<br></strong></em><em>Taiga</em> is NCSA’s global file system which provides users with their $WORK area.<span>&nbsp; </span>This file system is mounted across all Delta systems at /taiga (also /taiga/nsf/delta is bind mounted at /projects) and is accessible on both the <em>Delta</em> and <em>Taiga</em> DTN endpoints.<span>&nbsp; </span>For NCSA &amp; Illinois researchers, <em>Taiga</em> is also mounted on <em>HAL</em> and <em>Radiant</em>.<span>&nbsp; </span>This storage subsystem has an aggregate performance of 140GB/s and 1PB of its capacity allocated to users of the <em>Delta</em> system.<span>&nbsp;/taiga is a Lustre file system running DDN Exascaler. &nbsp; </span></p><p><u>Hardware:<br></u>DDN SFA400NVXE (Quantity: 2), each unit contains</p><ul><li>4 x SS9012 enclosures</li><li>NVME for metadata and small files</li></ul><p>DDN SFA18XE (Quantity: 1), each unit contains</p><ul><li>10 x SS9012 enclosures</li></ul><p><br></p><div class="table-wrap"><table class="wrapped confluenceTable" resolved=""><colgroup><col><col><col><col><col></colgroup><tbody><tr><td class="confluenceTd"><p><strong>File System</strong></p></td><td class="confluenceTd"><p><strong>Quota</strong></p></td><td colspan="1" class="confluenceTd"><strong>Snapshots</strong></td><td colspan="1" class="confluenceTd"><strong>Purged</strong></td><td class="confluenceTd"><p><strong>Key Features</strong></p></td></tr><tr><td class="confluenceTd"><p><span>$HOME</span></p></td><td class="confluenceTd"><strong>25GB.&nbsp;</strong>400,000 files per user.</td><td colspan="1" class="confluenceTd">No/TBA</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Area for software, scripts, job files, etc. <strong>NOT</strong> intended as a source/destination for I/O during jobs</td></tr><tr><td class="confluenceTd"><p><span>$WORK</span></p></td><td class="confluenceTd"><strong>500 GB</strong>. Up to 1-25 TB&nbsp; by allocation request</td><td colspan="1" class="confluenceTd">No/TBA</td><td colspan="1" class="confluenceTd">No</td><td class="confluenceTd">Area for shared data for a project, common data sets, software, results, etc.</td></tr><tr><td class="confluenceTd"><p><span>$SCRATCH</span></p></td><td class="confluenceTd"><strong>1000 GB</strong>. Up to 1-100 TB&nbsp;by allocation request.</td><td colspan="1" class="confluenceTd">No</td><td colspan="1" class="confluenceTd">Yes; files older than 30-days (access time)</td><td class="confluenceTd">Area for computation, largest allocations, where I/O from jobs should occur</td></tr></tbody></table></div><p><strong><a href="#DeltaXSEDEDocumentation-top">Top of Page</a></strong></p><h1 id="DeltaXSEDEDocumentation-AccessingtheSystem"><strong>Accessing the System</strong></h1><p><span>Describe access to the system</span></p><ul><li><span>NCSA Duo enabled multi-factor authentication</span></li><li><span>available via SSO hub</span></li></ul><p><span>List and detail methods (e.g., ssh, Globus, gsissh), providing command-line examples.</span></p><h2 id="DeltaXSEDEDocumentation-XSEDESingleSign-OnHub"><strong>XSEDE Single Sign-On Hub</strong></h2><p><a href="http://www.xsede.org" class="external-link" rel="nofollow" target="_blank"><span>XSEDE</span></a><span> users can also access Delta via the </span><a href="https://portal.xsede.org/single-sign-on-hub" class="external-link" rel="nofollow" target="_blank"><span>XSEDE Single Sign-On Hub</span></a><span>.</span></p><p><span>When reporting a problem to the help desk, please execute the gsissh command with the “-vvv” option and include the verbose output in your problem description.</span></p><h1 id="DeltaXSEDEDocumentation-Citizenship"><strong>Citizenship</strong></h1><p><strong>You share Delta with thousands of other users</strong><span>, and what you do on the system affects others. Exercise good citizenship to ensure that your activity does not adversely impact the system and the research community with whom you share it. Here are some rules of thumb.</span></p><p><span>List any Best Practices or conversely, a list of don’t’s. Some examples:</span></p><ul><li><span>Don’t run jobs on the login nodes</span></li><li><span>Don’t stress filesystem with known-harmful access patterns (many thousands of small files in a single directory)</span></li><li><span>submit an informative help-desk ticket</span></li></ul><h1 id="DeltaXSEDEDocumentation-ManagingandTransferringFiles"><strong>Managing and Transferring Files</strong></h1><h2 id="DeltaXSEDEDocumentation-FileSystems.1"><strong>File Systems</strong></h2><ul><li><span>Tips on navigating any shared file systems</span></li><li><span>Detail any pertinent environment variables, e.g., $HOME, $WORK, and any built-in aliases.</span></li><li><span>Tips on backups/storage</span></li></ul><h2 id="DeltaXSEDEDocumentation-TransferringyourFiles"><strong>Transferring your Files</strong></h2><p><span>Discuss methods of transferring files and provide command-line examples</span></p><ul><li><span>scp</span></li><li><span>rsync</span></li><li><span>Globus</span></li></ul><h2 id="DeltaXSEDEDocumentation-SharingFileswithCollaborators"><strong>Sharing Files with Collaborators</strong></h2><h1 id="DeltaXSEDEDocumentation-BuildingSoftware"><strong>Building Software</strong></h1><p><br></p><p><span>GCC, AOCC, PGI</span></p><p><span>OpenMPI ...</span></p><p><span>OpenMP</span></p><p><span>OpenACC&nbsp;</span></p><p><span>Describe how to build software:</span></p><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-Serial">Serial</h4><p style="text-align: left;">To build (compile and link) a serial program in Fortran, C, and C++:</p><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" style="text-align: left;" role="grid" resolved=""><colgroup><col><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="GCC: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">GCC</div></th><th style="text-align: center; user-select: none;" colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="AOCC: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">AOCC</div></th><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="PGI: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">PGI</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><span>gfortran&nbsp;<em>myprog</em>.f</span><br><span>gcc&nbsp;<em>myprog</em>.c</span><br><span>g++&nbsp;<em>myprog</em>.cc</span></td><td colspan="1" class="confluenceTd"><span>flang&nbsp;<em>myprog</em>.f</span><br><span>clang&nbsp;<em>myprog</em>.c</span><br><span>clang&nbsp;<em>myprog</em>.cc</span></td><td class="confluenceTd"><span>pgfortran&nbsp;<em>myprog</em>.f</span><br><span>pgcc&nbsp;<em>myprog</em>.c</span><br><span>pgc++&nbsp;<em>myprog</em>.cc</span></td></tr></tbody></table></div><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-MPI">MPI</h4><p style="text-align: left;">To build (compile and link) a MPI program in Fortran, C, and C++:</p><div class="table-wrap"><table class="wrapped confluenceTable" style="text-align: left;" resolved=""><colgroup><col><col><col></colgroup><tbody><tr><th style="text-align: center;" class="confluenceTh">MPI Implementation</th><th style="text-align: center;" class="confluenceTh">modulefile for MPI/Compiler</th><th style="text-align: center;" class="confluenceTh">Build Commands</th></tr><tr><td class="confluenceTd"><p><br></p><p>OpenMPI<br>(<a style="text-decoration: none;" href="http://www.open-mpi.org/" class="external-link" rel="nofollow" target="_blank">Home Page</a><span>&nbsp;</span>/<span>&nbsp;</span><a style="text-decoration: none;" href="http://www.open-mpi.org/doc/" class="external-link" rel="nofollow" target="_blank">Documentation</a>)</p></td><td style="text-align: center;" class="confluenceTd"><p><br></p><p><br></p><p>TBD</p></td><td rowspan="2" class="confluenceTd"><div class="table-wrap"><table class="wrapped confluenceTable" resolved=""><tbody><tr><td style="text-align: right;" class="confluenceTd">Fortran 77:</td><td class="confluenceTd"><span>mpif77&nbsp;<em>myprog</em>.f</span></td></tr><tr><td style="text-align: right;" class="confluenceTd">Fortran 90:</td><td class="confluenceTd"><span>mpif90&nbsp;<em>myprog</em>.f90</span></td></tr><tr><td style="text-align: right;" class="confluenceTd">C:</td><td class="confluenceTd"><span>mpicc&nbsp;<em>myprog</em>.c</span></td></tr><tr><td style="text-align: right;" class="confluenceTd">C++:</td><td class="confluenceTd"><span>mpicxx&nbsp;<em>myprog</em>.cc</span></td></tr></tbody></table></div></td></tr><tr><td style="text-align: center;" class="confluenceTd">TBD</td><td style="text-align: center;" class="confluenceTd">TBD</td></tr></tbody></table></div><p style="text-align: left;"><br></p><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-OpenMP">OpenMP</h4><p style="text-align: left;">To build an OpenMP program, use the<span>&nbsp;</span><span>-fopenmp</span><span>&nbsp;</span>/<span>&nbsp;-mp</span><span>&nbsp;</span>option:</p><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" style="text-align: left;" role="grid" resolved=""><colgroup><col><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="GCC: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">GCC</div></th><th style="text-align: center; user-select: none;" colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="AOCC: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">AOCC</div></th><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="PGI: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">PGI</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><span>gfortran -fopenmp&nbsp;<em>myprog</em>.f</span><br><span>gcc&nbsp;-fopenmp&nbsp;<em>myprog</em>.c</span><br><span>g++&nbsp;-fopenmp&nbsp;<em>myprog</em>.cc</span></td><td colspan="1" class="confluenceTd"><span>flang&nbsp;-fopenmp&nbsp;<em>myprog</em>.f</span><br><span>clang&nbsp;-fopenmp&nbsp;<em>myprog</em>.c</span><br><span>clang&nbsp;-fopenmp&nbsp;<em>myprog</em>.cc</span></td><td class="confluenceTd"><span>pgfortran -mp&nbsp;<em>myprog</em>.f</span><br><span>pgcc -mp&nbsp;<em>myprog</em>.c</span><br><span>pgc++ -mp&nbsp;<em>myprog</em>.cc</span></td></tr></tbody></table></div><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-HybridMPI/OpenMP">Hybrid MPI/OpenMP</h4><p style="text-align: left;">To build an MPI/OpenMP hybrid program, use the<span>&nbsp;</span><span>-fopenmp</span><span>&nbsp;</span>/<span>&nbsp;</span><span>-mp</span><span>&nbsp;</span>option with the MPI compiling commands:</p><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" style="text-align: left;" role="grid" resolved=""><colgroup><col><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="GCC: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">GCC</div></th><th style="text-align: center; user-select: none;" colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label=": No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner"><br></div></th><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="PGI: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">PGI</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><span>mpif77 -fopenmp&nbsp;<em>myprog</em>.f</span><br><span>mpif90 -fopenmp&nbsp;<em>myprog</em>.f90<br>mpicc&nbsp;-fopenmp&nbsp;<em>myprog</em>.c</span><br><span>mpicxx -fopenmp&nbsp;<em>myprog</em>.cc</span></td><td colspan="1" class="confluenceTd"><br></td><td class="confluenceTd"><span>mpif77 -mp&nbsp;<em>myprog</em>.f</span><br><span>mpif90 -mp&nbsp;<em>myprog</em>.f90<br>mpicc&nbsp;-mp&nbsp;<em>myprog</em>.c</span><br><span>mpicxx -mp&nbsp;<em>myprog</em>.cc</span></td></tr></tbody></table></div><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-OpenACC">OpenACC</h4><p style="text-align: left;">To build an OpenACC program, use the<span>&nbsp;</span><span>-acc</span><span>&nbsp;option and the&nbsp;</span><span>-mp</span><span>&nbsp;</span>option for multi-threaded:</p><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" style="text-align: left;" role="grid" resolved=""><colgroup><col><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="NON-MULTITHREADED: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">NON-MULTITHREADED</div></th><th style="text-align: center; user-select: none;" colspan="1" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label=": No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner"><br></div></th><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="MULTITHREADED: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">MULTITHREADED</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><span>pgfortran -acc&nbsp;<em>myprog</em>.f</span><br><span>pgcc&nbsp;-acc&nbsp;<em>myprog</em>.c</span><br><span>pgc++ -acc&nbsp;<em>myprog</em>.cc</span></td><td colspan="1" class="confluenceTd"><br></td><td class="confluenceTd"><span>pgfortran -acc -mp&nbsp;<em>myprog</em>.f</span><br><span>pgcc&nbsp;-acc -mp&nbsp;<em>myprog</em>.c</span><br><span>pgc++ -acc -mp&nbsp;<em>myprog</em>.cc</span></td></tr></tbody></table></div><p><br></p><ul><li><span>list compilers and recommendations</span></li><li><span>any architecture-specific flags</span></li><li><span>how to build 3rd party software in your account</span></li></ul><h1 id="DeltaXSEDEDocumentation-Software"><strong>Software</strong></h1><ul><li><span>lmod</span></li><li><span>spack/EasyBuild</span></li><li><span>NVIDIA NGC containers</span></li><li><span>OpenCL</span></li><li><span>CUDA</span></li></ul><p><br></p><ul><li>URL to XSEDE software inventory&nbsp;</li></ul><p>Please open a service request ticket by sending email to <a href="mailto:help@ncsa.illinois.edu" class="external-link" rel="nofollow" target="_blank">help@ncsa.illinois.edu</a> for help with software not currently installed on the Delta system. For single user or single project use cases the preference is for the user to use the spack software package manager to install software locally against the system spack installation as documented &lt;here&gt;. Delta support staff are available to provide limited assistance. For general installation requests the Delta project office will review each requests for broad use and installation effort.</p><h1 id="DeltaXSEDEDocumentation-LaunchingApplications(TBD)"><strong>Launching Applications (TBD)</strong></h1><ul><li><span>Launching One Serial Application</span></li><li><span>Launching One Multi-Threaded Application</span></li><li><span>Launching One MPI Application</span></li><li><span>Launching One Hybrid (MPI+Threads) Application</span></li><li><span>More Than One Serial Application in the Same Job</span></li><li><span>MPI Applications One at a Time</span></li><li><span>More than One MPI Application Running Concurrently</span></li><li><span>More than One OpenMP Application Running Concurrently</span></li></ul><h1 id="DeltaXSEDEDocumentation-RunningJobs"><strong>Running Jobs</strong></h1><h2 id="DeltaXSEDEDocumentation-JobAccounting"><strong>Job Accounting</strong></h2><p><span>The charge unit for&nbsp;<em>Delta</em>&nbsp;is the Service Unit (SU). This corresponds to the equivalent use of one compute core utilizing less than or equal to 2G of memory for one hour, or 1 GPU or fractional GPU using less than the corresponding amount of memory or cores for 1 hour (see table below). <em>Keep in mind that your charges are based on the resources that are reserved for your job and don't necessarily reflect how the resources are used.</em> Charges are based on either the number of cores or the fraction of the memory requested, whichever is larger. The minimum charge for any job is 1 SU.</span></p><div class="table-wrap"><table class="wrapped confluenceTable" resolved=""><colgroup><col><col><col><col><col></colgroup><tbody><tr><th colspan="2" rowspan="2" class="confluenceTh"><p style="text-align: center;">Node Type</p></th><th style="text-align: center;" colspan="3" class="confluenceTh">Service Unit Equivalence</th></tr><tr><td colspan="1" class="confluenceTd">Cores</td><td colspan="1" class="confluenceTd">GPU Fraction</td><td colspan="1" class="confluenceTd">Host Memory</td></tr><tr><td colspan="2" class="confluenceTd">CPU Node</td><td class="confluenceTd">1</td><td colspan="1" class="confluenceTd">N/A</td><td class="confluenceTd">2 GB</td></tr><tr><td rowspan="4" class="confluenceTd"><p>GPU Node</p></td><td class="confluenceTd">Quad A100</td><td class="confluenceTd">2</td><td colspan="1" class="confluenceTd">1/7 A100</td><td class="confluenceTd">8 GB</td></tr><tr><td class="confluenceTd">Quad A40</td><td class="confluenceTd">16</td><td colspan="1" class="confluenceTd">1 A40</td><td class="confluenceTd">64 GB</td></tr><tr><td colspan="1" class="confluenceTd">8-way A100</td><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd">1/7 A100</td><td colspan="1" class="confluenceTd">32 GB</td></tr><tr><td colspan="1" class="confluenceTd">8-way MI100</td><td colspan="1" class="confluenceTd">16</td><td colspan="1" class="confluenceTd">1 MI100</td><td colspan="1" class="confluenceTd">256 GB</td></tr></tbody></table></div><p><span>Please note that a weighting factor will discount the charge for the reduced-precision A40 nodes, as well as the novel AMD MI100 based node - this will be documented through the XSEDE SU converter.</span></p><h3 id="DeltaXSEDEDocumentation-JobAccountingConsiderations"><span>Job Accounting Considerations</span></h3><ul><li>A node-exclusive job that runs on a compute node for one hour will be charged 128 SUs (128 cores x 1 hour)</li><li>A node-exclusive job that runs on a 4-way GPU node for one hour will be charge 4 SUs (4 GPU x 1 hour)</li><li>A node-exclusive job that runs on a 8-way GPU node for one hour will be charge 8 SUs (8 GPU x 1 hour)</li><li>A shared job that runs on an A100 node will be charged for the fractional usage of the A100 (eg, using 1/7 of an A100 for one hour will be 1/7 GPU x 1 hour, or 1/7 SU per hour, except the first hour will be 1 SU (minimum job charge).</li></ul><h2 id="DeltaXSEDEDocumentation-AccessingtheComputeNodes"><strong>Accessing the Compute Nodes</strong></h2><p><span>Describe how to run jobs</span></p><ul><li><span>batch job</span></li><li><span>interactive sessions&nbsp;</span></li><li><span>ssh from a login node directly to a compute node</span></li></ul><h2 id="DeltaXSEDEDocumentation-JobScheduler"><strong>Job Scheduler</strong></h2><p><span>Describe the job scheduler &amp; scheduling algorithms</span></p><p><span>Most, if not all, XSEDE resources are running Slurm and this documentation already exists in some form.</span></p><h2 id="DeltaXSEDEDocumentation-Partitions(Queues)"><strong>Partitions (Queues)</strong></h2><p><span>Describe current partitions.</span></p><p><span>Table. Delta Production Queues</span></p><div class="table-wrap"><table class="wrapped confluenceTable" resolved=""><colgroup><col><col><col><col><col><col></colgroup><tbody><tr><td class="confluenceTd"><p><strong>Queue Name</strong></p></td><td class="confluenceTd"><p><strong>Node Type</strong></p></td><td class="confluenceTd"><p><strong>Max Nodes per Job</strong></p><p><br></p></td><td class="confluenceTd"><p><strong>Max Duration</strong></p></td><td class="confluenceTd"><p><strong>Max Jobs in Queue*</strong></p></td><td class="confluenceTd"><p><strong>SU Charge Rate</strong></p><p><strong>(per node-hour)</strong></p></td></tr><tr><td class="confluenceTd"><p><span>TBD</span></p></td><td class="confluenceTd"><p><span>TBD</span></p></td><td class="confluenceTd"><p>TBD</p></td><td class="confluenceTd">TDB</td><td class="confluenceTd"><p><span>TDB</span></p></td><td class="confluenceTd"><p><span>TBD</span></p></td></tr></tbody></table></div><h3 id="DeltaXSEDEDocumentation-NodePolicies">Node Policies</h3><p><span>Node-sharing will supported</span></p><p><span>GPU NVIDIA MIG (GPU slicing) for the A100 will be supported.</span></p><h2 id="DeltaXSEDEDocumentation-InteractiveSessions"><strong>Interactive Sessions</strong></h2><p><span>Describe any tools for running interactive jobs on the compute nodes.</span></p><ul><li><span>built-in tools for running interactive jobs, e.g. PSC’s interact, TACC’s idev</span></li></ul><h1 id="DeltaXSEDEDocumentation-SampleJobScripts(TBD)"><strong>Sample Job Scripts (TBD)</strong></h1><p><strong>Sample job scripts are the most requested documentation.</strong></p><p><span>Provide sample job scripts for common job type scenarios.</span></p><ul><li><span>Serial jobs</span></li><li><span>MPI</span></li><li><span>OpenMP</span></li><li><span>Hybrid (MPI + OpenMP)</span></li><li><span>Parametric / Array / HTC jobs</span></li></ul><h1 id="DeltaXSEDEDocumentation-JobManagement"><strong>Job Management&nbsp;</strong></h1><p>Batch jobs are submitted through a&nbsp;<em>job script</em>&nbsp;using the&nbsp;sbatch&nbsp;command. Job scripts generally start with a series of SLURM&nbsp;<em>directives</em>&nbsp;that describe requirements of the job such as number of nodes, wall time required, etc… to the batch system/scheduler (SLURM directives can also be specified as options on the&nbsp;sbatch&nbsp;command line; command line options take precedence over those in the script). The rest of the batch script consists of user commands.</p><p>The syntax for&nbsp;sbatch&nbsp;is:</p><p><strong>sbatch</strong> [list of sbatch options] script_name</p><p>The main&nbsp;sbatch&nbsp;options are listed below.&nbsp; Refer to&nbsp;the sbatch man page for options.</p><ul><li><p>The common resource_names are:<br>--time=<em>time</em></p><p><strong>time</strong>=maximum wall clock time (d-hh:mm:ss)&nbsp;<em>[default: maximum limit of the queue(partition) summitted&nbsp;to]</em></p><p>--nodes=<em>n</em></p><p>--ntasks=<em>p</em>&nbsp;Total number of cores for the batch job</p><p>--ntasks-per-node=<em>p</em>&nbsp;Number of cores per node</p><p>n=number of N-core nodes&nbsp;<em>[default: 1 node]</em><br>p=how many cores(ntasks) per job or per node(ntasks-per-node) to use (1 through 128)&nbsp;<em>[default: 1 core]</em></p><p>Examples:<br>--time=00:30:00<br>--nodes=2<br>--ntasks=256<br><br>or<br><br>--time=00:30:00<br>--nodes=2<br>--ntasks-per-node=128<br>&nbsp;</p><p><strong>Memory:</strong>&nbsp;The compute nodes have at lest 256GB.&nbsp;</p><p>Example:<br>--time=00:30:00<br>--nodes=2<br>--ntask=256<br>--mem=118000<br><br>or<br><br>--time=00:30:00<br>--nodes=2<br>--ntasks-per-node=64<br>--mem-per-cpu=7375</p></li></ul><p><br></p><h4 style="text-align: left;" id="DeltaXSEDEDocumentation-squeue/scontrol/sinfo">squeue/scontrol/sinfo</h4><p style="text-align: left;">Commands that display batch job and partition information .</p><div class="table-wrap"><table class="wrapped confluenceTable tablesorter tablesorter-default" role="grid" resolved=""><colgroup><col><col></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="SLURM EXAMPLE COMMAND: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">SLURM EXAMPLE COMMAND</div></th><th style="text-align: center; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="DESCRIPTION: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner">DESCRIPTION</div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td class="confluenceTd"><span style="color: rgb(0,0,0);">squeue -a</span></td><td class="confluenceTd">List the status of all jobs on the system.</td></tr><tr role="row"><td class="confluenceTd"><span style="color: rgb(0,0,0);">squeue -u $USER</span></td><td class="confluenceTd">List the status of all your jobs in the batch system.</td></tr><tr role="row"><td class="confluenceTd"><span style="color: rgb(0,0,0);">squeue -j JobID</span></td><td class="confluenceTd">List nodes allocated to a running job in addition to basic information..</td></tr><tr role="row"><td class="confluenceTd"><span style="color: rgb(0,0,0);">scontrol show job JobID</span></td><td class="confluenceTd">List detailed information on a particular job.</td></tr><tr role="row"><td class="confluenceTd"><span style="color: rgb(0,0,0);">sinfo -a</span></td><td class="confluenceTd">List summary information on all the partition.</td></tr></tbody></table></div><p style="text-align: left;">See the manual (man) pages for other available options.</p><p><br></p><p>Useful Batch Job Environment Variables</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable tablesorter tablesorter-default" style="width: 100.0%;" role="grid" resolved=""><colgroup><col style="width: 12.2114%;"><col style="width: 16.9402%;"><col style="width: 53.9638%;"></colgroup><thead><tr role="row" class="tablesorter-headerRow"><th style="text-align: left; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="0" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="DESCRIPTION: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner"><p>DESCRIPTION</p></div></th><th style="text-align: left; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="1" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="SLURM ENVIRONMENT VARIABLE: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner"><p>SLURM ENVIRONMENT VARIABLE</p></div></th><th style="text-align: left; user-select: none;" class="confluenceTh tablesorter-header sortableHeader tablesorter-headerUnSorted" data-column="2" tabindex="0" scope="col" role="columnheader" aria-disabled="false" unselectable="on" aria-sort="none" aria-label="DETAIL DESCRIPTION: No sort applied, activate to apply an ascending sort"><div class="tablesorter-header-inner"><p>DETAIL DESCRIPTION</p></div></th></tr></thead><tbody aria-live="polite" aria-relevant="all"><tr role="row"><td style="text-align: left;" class="confluenceTd">JobID</td><td style="text-align: left;" class="confluenceTd">$SLURM_JOB_ID</td><td style="text-align: left;" class="confluenceTd">Job identifier assigned to the job</td></tr><tr role="row"><td style="text-align: left;" class="confluenceTd">Job Submission Directory</td><td style="text-align: left;" class="confluenceTd">$SLURM_SUBMIT_DIR</td><td style="text-align: left;" class="confluenceTd">By default, jobs start in the directory that the job was submitted from. So the "cd $SLURM_SUBMIT_DIR" command is not needed.</td></tr><tr role="row"><td style="text-align: left;" class="confluenceTd">Machine(node) list</td><td style="text-align: left;" class="confluenceTd">$SLURM_NODELIST</td><td style="text-align: left;" class="confluenceTd">variable name that contains the list of nodes assigned to the batch job</td></tr><tr role="row"><td style="text-align: left;" class="confluenceTd">Array JobID</td><td style="text-align: left;" class="confluenceTd">$SLURM_ARRAY_JOB_ID<br>$SLURM_ARRAY_TASK_ID</td><td style="text-align: left;" class="confluenceTd">each member of a job array is assigned a unique identifier</td></tr></tbody></table></div><p>See the&nbsp;sbatch&nbsp;man page for additional environment variables available.</p><p><strong>srun</strong></p><p>The&nbsp;srun&nbsp;command initiates an interactive job on the compute nodes.</p><p>For example, the following command:</p><p><code>srun --time=00:30:00 --nodes=1 --ntasks-per-node=64 --pty /bin/bash</code></p><p>will run an interactive job in the&nbsp;default queue with a wall clock limit of 30 minutes, using one node and 16 cores per node. You can also use other&nbsp;sbatch&nbsp;options such as those documented above.</p><p>After you enter the command, you will have to wait for SLURM to start the job. As with any job, your interactive job will wait in the queue until the specified number of nodes is available. If you specify a small number of nodes for smaller amounts of time, the wait should be shorter because your job will backfill among larger jobs. You will see something like this:</p><p><code>srun: job 123456 queued and waiting for resources</code></p><p>Once the job starts, you will see:</p><p><code>srun: job 123456 has been allocated resources</code></p><p>and will be presented with an interactive shell prompt on the launch node. At this point, you can use the appropriate command to start your program.</p><p>When you are done with your runs, you can use the&nbsp;exit&nbsp;command to end the job.</p><p><strong>scancel</strong></p><p>The&nbsp;scancel&nbsp;command deletes a queued job or kills a running job.</p><ul><li>scancel JobID&nbsp;deletes/kills a job.</li></ul><h1 id="DeltaXSEDEDocumentation-Refunds"><strong>Refunds</strong></h1><p style="">Refunds are considered, when appropriate, for jobs that failed due to circumstances beyond user control.</p><p>XSEDE users and project that wish to request a refund should see the XSEDE Refund Policy section located <a href="https://portal.xsede.org/su-converter#:~:text=RESET-,XSEDE%20Refund%20Policy,-(v1.2)" class="external-link" rel="nofollow" target="_blank">here</a>.</p><p>Other allocated users and projects wishing to request a refund should&nbsp;email<span>&nbsp;</span><a href="mailto:help@ncsa.illinois.edu" class="external-link" rel="nofollow" target="_blank">help@ncsa.illinois.edu</a>. Please include the batch job ids and the standard error and output files produced by the job(s).&nbsp;</p><h1 id="DeltaXSEDEDocumentation-Visualization"><strong>Visualization</strong></h1><p><span>Delta A40 nodes support NVIDIA raytracing hardware.</span></p><ul><li><span>describe visualization capabilities &amp; software.</span></li><li><span>how to establish VNC/DVC/remote desktop</span></li></ul><h1 id="DeltaXSEDEDocumentation-Containers"><strong>Containers</strong></h1><p><span>Delta will support container use with Singularity.</span></p><p><span>NVIDIA NGC containers will be made available.&nbsp;</span></p><h1 id="DeltaXSEDEDocumentation-ProtectedData(N/A)"><strong>Protected Data (N/A)</strong></h1><p><span>IF APPLICABLE</span></p><ul><li><span>Describe the system’s capabilities for handling protected data.</span></li><li><span>Data Retention Policies</span></li><li><span>How to run jobs with protected data.</span></li><li><span>Describe any mandated workflows.</span></li></ul><h1 id="DeltaXSEDEDocumentation-Help"><strong>Help</strong></h1><p><span>For assistance with the use of Delta</span></p><ul><li><span>XSEDE users can create a ticket via the user portal at <a href="https://portal.xsede.org/web/xup/help-desk" class="external-link" rel="nofollow" target="_blank">https://portal.xsede.org/web/xup/help-desk</a></span></li><li><span>All other users (Illinois allocations, Diversity Allocations, etc) please send email to help@ncsa.illinois.edu.</span></li></ul><h1 id="DeltaXSEDEDocumentation-Acknowledge"><strong>Acknowledge</strong></h1><p>To acknowledge the NCSA Delta system in particular, please include the following</p><p>This research is part of the Delta research computing project, which is supported by the National Science Foundation (award OCI 2005572), and the State of Illinois. Delta is a joint effort of the University of Illinois at Urbana-Champaign and its National Center for Supercomputing Applications.</p><p>To include acknowledgement of XSEDE contributions to a publication or presentation please see <a href="https://portal.xsede.org/acknowledge" class="external-link" rel="nofollow" target="_blank">https://portal.xsede.org/acknowledge</a> and <a href="https://www.xsede.org/for-users/acknowledgement" class="external-link" rel="nofollow" target="_blank">https://www.xsede.org/for-users/acknowledgement</a>.</p><h1 id="DeltaXSEDEDocumentation-References"><strong>References</strong></h1><p><span>List any supporting documentation resources</span></p><p><br></p></div>
</div>
